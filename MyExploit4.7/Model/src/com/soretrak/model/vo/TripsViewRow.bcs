//Groovy Scripts for com.soretrak.model.vo.TripsView

package com.soretrak.model.vo

import oracle.jbo.script.annotation.TransientValueExpression;

@TransientValueExpression(attributeName="nbre")
def nbre_ExpressionScript_Expression()
{
nvl(StopTimesView.count("TripId"),0)
}


@TransientValueExpression(attributeName="tripsamp")
def tripsamp_ExpressionScript_Expression()
{
(nvl(TimeReturn.hours,0) * 60 + nvl(TimeReturn.minutes,0) - nvl(TimeDepart.hours,0) * 60 - nvl(TimeDepart.minutes,0))/60
}


@TransientValueExpression(attributeName="nbreaffect")
def nbreaffect_ExpressionScript_Expression()
{
nvl(TripsplanView.count("TripId"),0)
}


@TransientValueExpression(attributeName="dyntime")
def dyntime_ExpressionScript_Expression()
{
( DirectionId == '0' ) ? TimeReturn : TimeDepart
}

