<?xml version='1.0' encoding='UTF-8'?>
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:af="http://xmlns.oracle.com/adf/faces/rich"
                xmlns:f="http://java.sun.com/jsf/core" xmlns:c="http://java.sun.com/jsp/jstl/core">
  <c:set var="viewcontrollerBundle" value="#{adfBundle['com.soretrak.view.ViewControllerBundle']}"/>
  <af:panelGridLayout id="pgl2">
    <af:gridRow id="gr1" height="100%">
      <af:gridCell marginStart="5px" marginEnd="5px" id="gc1" halign="stretch" valign="stretch" width="100%">
        <af:panelBox text="#{viewcontrollerBundle.JOURNES_DU_ROULEMENT}" id="pb1"
                     partialTriggers="b1 b2 b3 b4">
          <f:facet name="toolbar">
            <af:panelGroupLayout id="pgl1" layout="horizontal">
              <af:inputText label="Label 1" id="it1" value="#{bindings.Etat.inputValue}"
                            binding="#{backingBeanScope.PlannigBean.etat}" rendered="false"/>
              <af:button text="#{viewcontrollerBundle.Planifications}"
                         disabled="#{!bindings.ExecuteWithParams.enabled}" id="b1"
                         action="#{backingBeanScope.PlannigBean.doPlanning}" inlineStyle="font-size:14px;"
                         styleClass="AFAppNavbarButton"/>
              <af:spacer width="10" height="10" id="s1"/>
              <af:button text="#{viewcontrollerBundle.Execution}"
                         disabled="#{!bindings.ExecuteWithParams.enabled}" id="b2"
                         action="#{backingBeanScope.PlannigBean.doExecution}" inlineStyle="font-size:14px;"
                         styleClass="AFAppNavbarButton"/>
              <af:spacer width="10" height="10" id="s2"/>
              <af:button text="#{viewcontrollerBundle.AmplitudeHoraire}"
                         disabled="#{!bindings.ExecuteWithParams.enabled}" id="b3"
                         action="#{backingBeanScope.PlannigBean.doAmplitude}" inlineStyle="font-size:14px;"
                         styleClass="AFAppNavbarButton"/>
              <af:spacer width="10" height="10" id="s3"/>
              <af:button actionListener="#{bindings.ExecuteWithParams3.execute}"
                         text="#{viewcontrollerBundle.Cloturees}"
                         disabled="#{!bindings.ExecuteWithParams.enabled}" id="b4" inlineStyle="font-size:14px;"
                         styleClass="AFAppNavbarButton"/>
            </af:panelGroupLayout>
          </f:facet>
          <af:panelCollection id="pc1">
            <f:facet name="menus"/>
            <f:facet name="toolbar"/>
            <af:popup childCreation="deferred" autoCancel="disabled" id="p1">
              <af:dialog id="d1" dialogListener="#{backingBeanScope.PlannigBean.ondialogList}">
                <af:activeOutputText value="Vous etes entrain de valider la journée" id="aot1"/>
                <f:facet name="buttonBar"/>
              </af:dialog>
            </af:popup>
            <af:popup autoCancel="enabled" id="p2" contentDelivery="lazyUncached"
                      popupFetchListener="#{backingBeanScope.PlannigBean.onPopupFtechList}"
                      popupCanceledListener="#{backingBeanScope.PlannigBean.onPopupCanceledList}">
              <af:dialog id="d2" title="Ajout Modif Journée du Roulement"
                         dialogListener="#{backingBeanScope.PlannigBean.onDialogDaysList}">
                <af:panelFormLayout id="pfl1">
                  <af:inputDate value="#{bindings.Dateplan.inputValue}" label="#{bindings.Dateplan.hints.label}"
                                required="#{bindings.Dateplan.hints.mandatory}"
                                columns="#{bindings.Dateplan.hints.displayWidth}"
                                shortDesc="#{bindings.Dateplan.hints.tooltip}" id="id2">
                    <f:validator binding="#{bindings.Dateplan.validator}"/>
                    <af:convertDateTime pattern="#{bindings.Dateplan.format}"/>
                  </af:inputDate>
                  <af:inputText value="#{bindings.tottrips.inputValue}" label="#{bindings.tottrips.hints.label}"
                                required="#{bindings.tottrips.hints.mandatory}"
                                columns="#{bindings.tottrips.hints.displayWidth}"
                                maximumLength="#{bindings.tottrips.hints.precision}"
                                shortDesc="#{bindings.tottrips.hints.tooltip}" id="it2">
                    <f:validator binding="#{bindings.tottrips.validator}"/>
                    <af:convertNumber groupingUsed="false" pattern="#{bindings.tottrips.format}"/>
                  </af:inputText>
                  <af:inputText value="#{bindings.totkm.inputValue}" label="#{bindings.totkm.hints.label}"
                                required="#{bindings.totkm.hints.mandatory}"
                                columns="#{bindings.totkm.hints.displayWidth}"
                                maximumLength="#{bindings.totkm.hints.precision}"
                                shortDesc="#{bindings.totkm.hints.tooltip}" id="it3">
                    <f:validator binding="#{bindings.totkm.validator}"/>
                    <af:convertNumber groupingUsed="false" pattern="#{bindings.totkm.format}"/>
                  </af:inputText>
                  <af:inputText value="#{bindings.totrecette.inputValue}" label="#{bindings.totrecette.hints.label}"
                                required="#{bindings.totrecette.hints.mandatory}"
                                columns="#{bindings.totrecette.hints.displayWidth}"
                                maximumLength="#{bindings.totrecette.hints.precision}"
                                shortDesc="#{bindings.totrecette.hints.tooltip}" id="it4">
                    <f:validator binding="#{bindings.totrecette.validator}"/>
                    <af:convertNumber groupingUsed="false" pattern="#{bindings.totrecette.format}"/>
                  </af:inputText>
                  <af:inputText value="#{bindings.totrecloc.inputValue}" label="#{bindings.totrecloc.hints.label}"
                                required="#{bindings.totrecloc.hints.mandatory}"
                                columns="#{bindings.totrecloc.hints.displayWidth}"
                                maximumLength="#{bindings.totrecloc.hints.precision}"
                                shortDesc="#{bindings.totrecloc.hints.tooltip}" id="it5">
                    <f:validator binding="#{bindings.totrecloc.validator}"/>
                    <af:convertNumber groupingUsed="false" pattern="#{bindings.totrecloc.format}"/>
                  </af:inputText>
                </af:panelFormLayout>
                <f:facet name="buttonBar"/>
              </af:dialog>
            </af:popup>
            <af:table value="#{bindings.DaysplanView1.collectionModel}" var="row"
                      rows="#{bindings.DaysplanView1.rangeSize}"
                      emptyText="#{bindings.DaysplanView1.viewable ? 'No data to display.' : 'Access Denied.'}"
                      rowBandingInterval="0" selectedRowKeys="#{bindings.DaysplanView1.collectionModel.selectedRow}"
                      selectionListener="#{bindings.DaysplanView1.collectionModel.makeCurrent}" rowSelection="single"
                      fetchSize="#{bindings.DaysplanView1.rangeSize}"
                      filterModel="#{bindings.DaysplanView1Query.queryDescriptor}" filterVisible="true"
                      queryListener="#{bindings.DaysplanView1Query.processQuery}" varStatus="vs" id="t1"
                      partialTriggers=":::b1 :::b2 :::b3 :::b4 b7">
              <af:column sortProperty="#{bindings.DaysplanView1.hints.Dateplan.name}" filterable="true" sortable="true"
                         headerText="#{bindings.DaysplanView1.hints.Dateplan.label}" id="c1" align="center">
                <f:facet name="filter">
                  <af:inputDate value="#{bindings.DaysplanView1Query.queryDescriptor.filterConjunctionCriterion.criterionMap.Dateplan.value}"
                                id="id1">
                    <af:convertDateTime pattern="#{bindings.DaysplanView1.hints.Dateplan.format}"/>
                  </af:inputDate>
                </f:facet>
                <af:outputText value="#{row.Dateplan}" shortDesc="#{bindings.DaysplanView1.hints.Dateplan.tooltip}"
                               id="ot1">
                  <af:convertDateTime pattern="#{bindings.DaysplanView1.hints.Dateplan.format}"/>
                </af:outputText>
              </af:column>
              <af:column id="c10" align="center" width="70" headerText="#{bindings.DaysplanView1.hints.Jour.label}">
                <af:outputText value="#{row.Jour}" shortDesc="#{bindings.DaysplanView1.hints.Jour.tooltip}" id="ot6"/>
              </af:column>
              <af:column headerText="#{viewcontrollerBundle.Statistiques}" sortable="true" filterable="true" id="c2" align="center">
                <af:column sortProperty="#{bindings.DaysplanView1.hints.tottrips.name}" filterable="false"
                           sortable="true" headerText="#{bindings.DaysplanView1.hints.tottrips.label}" id="c3"
                           align="center" width="70">
                  <af:outputText value="#{row.tottrips}" shortDesc="#{bindings.DaysplanView1.hints.tottrips.tooltip}"
                                 id="ot2">
                    <af:convertNumber groupingUsed="false" pattern="#{bindings.DaysplanView1.hints.tottrips.format}"/>
                  </af:outputText>
                </af:column>
                <af:column id="c11" width="70" align="center"
                           headerText="#{bindings.DaysplanView1.hints.totMiss.label}">
                  <af:outputText value="#{row.totMiss}" shortDesc="#{bindings.DaysplanView1.hints.totMiss.tooltip}"
                                 id="ot7">
                    <af:convertNumber groupingUsed="false" pattern="#{bindings.DaysplanView1.hints.totMiss.format}"/>
                  </af:outputText>
                </af:column>
                <af:column id="c12" width="70" align="center" headerText="#{bindings.DaysplanView1.hints.totloc.label}">
                  <af:outputText value="#{row.totloc}" shortDesc="#{bindings.DaysplanView1.hints.totloc.tooltip}"
                                 id="ot8">
                    <af:convertNumber groupingUsed="false" pattern="#{bindings.DaysplanView1.hints.totloc.format}"/>
                  </af:outputText>
                </af:column>
                <af:column sortProperty="#{bindings.DaysplanView1.hints.totkm.name}" filterable="false" sortable="true"
                           headerText="#{bindings.DaysplanView1.hints.totkm.label}" id="c4" align="center" width="70">
                  <af:outputText value="#{row.totkm}" shortDesc="#{bindings.DaysplanView1.hints.totkm.tooltip}"
                                 id="ot3">
                    <af:convertNumber groupingUsed="false" pattern="#{bindings.DaysplanView1.hints.totkm.format}"/>
                  </af:outputText>
                </af:column>
                <af:column sortProperty="#{bindings.DaysplanView1.hints.totrecette.name}" filterable="false"
                           sortable="true" headerText="#{bindings.DaysplanView1.hints.totrecette.label}" id="c5"
                           align="center" width="100">
                  <af:outputText value="#{row.totrecette}"
                                 shortDesc="#{bindings.DaysplanView1.hints.totrecette.tooltip}" id="ot4">
                    <af:convertNumber groupingUsed="false" pattern="#{bindings.DaysplanView1.hints.totrecette.format}"/>
                  </af:outputText>
                </af:column>
                <af:column id="c8" headerText="#{bindings.DaysplanView1.hints.totrecloc.label}" align="center">
                  <af:outputText value="#{row.totrecloc}" shortDesc="#{bindings.DaysplanView1.hints.totrecloc.tooltip}"
                                 id="ot5">
                    <af:convertNumber groupingUsed="false" pattern="#{bindings.DaysplanView1.hints.totrecloc.format}"/>
                  </af:outputText>
                </af:column>
              </af:column>
              <af:column sortProperty="#{bindings.DaysplanView1.hints.Etat.name}" filterable="false" sortable="true"
                         headerText="#{bindings.DaysplanView1.hints.Etat.label}" id="c6" align="center">
                <af:selectOneChoice value="#{row.bindings.Etat.inputValue}" label="#{row.bindings.Etat.label}"
                                    required="#{bindings.DaysplanView1.hints.Etat.mandatory}"
                                    shortDesc="#{bindings.DaysplanView1.hints.Etat.tooltip}" readOnly="true" id="soc1">
                  <f:selectItems value="#{row.bindings.Etat.items}" id="si1"/>
                  <f:validator binding="#{row.bindings.Etat.validator}"/>
                </af:selectOneChoice>
              </af:column>
              <af:column id="c7" align="center" width="70" headerText="#{viewcontrollerBundle.Detail}">
                <af:button text="#{viewcontrollerBundle.Detail}" id="b5" action="detail">
                  <af:setPropertyListener to="#{pageFlowScope.fromDatePlan}" type="action"
                                          from="#{bindings.Dateplan.inputValue}"/>
                  <af:setPropertyListener from="#{bindings.Etat.inputValue}" type="action"
                                          to="#{pageFlowScope.fromEtat}"/>
                </af:button>
              </af:column>
              <af:column id="c9" width="90" align="center" headerText="#{viewcontrollerBundle.Validation}">
                <af:button text="updateEtatDaysPlan"
                           disabled="#{!bindings.updateEtatDaysPlan.enabled}" id="b7"
                           action="#{backingBeanScope.PlannigBean.doUpdateEtat}" rendered="false"/>
                <af:button text="#{viewcontrollerBundle.Validation}" id="b6" binding="#{backingBeanScope.PlannigBean.bvalidation}">
                  <af:showPopupBehavior popupId="::p1"/>
                </af:button>
              </af:column>
            </af:table>
            <f:facet name="statusbar"/>
            <f:facet name="secondaryToolbar">
              <af:toolbar id="t2">
                <af:button text="Ajout" id="badd" icon="/resources/images/new_ena.png">
                  <af:showPopupBehavior popupId="p2"/>
                </af:button>
                <af:spacer width="10" height="10" id="s4"/>
              </af:toolbar>
            </f:facet>
          </af:panelCollection>
        </af:panelBox>
      </af:gridCell>
    </af:gridRow>
  </af:panelGridLayout>
</ui:composition>
